var Oe=Object.defineProperty,Ke=Object.defineProperties;var We=Object.getOwnPropertyDescriptors;var Ae=Object.getOwnPropertySymbols;var qe=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable;var Me=(i,t,e)=>t in i?Oe(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,I=(i,t)=>{for(var e in t||(t={}))qe.call(t,e)&&Me(i,e,t[e]);if(Ae)for(var e of Ae(t))Le.call(t,e)&&Me(i,e,t[e]);return i},G=(i,t)=>Ke(i,We(t));import{u as Se,f as xe,g as we,E as re,a as He,b as Ue,c as je,d as Ge,e as Xe,h as Ee,i as Te,j as Ye,k as Je,l as Qe,m as Ze,n as el,o as ll,p as tl,q as ol,r as Pe,s as al,t as nl,v as rl,w as pe,x as sl,y as il,z as ul,A as dl,B as pl,C as cl,D as fl,F as ml,G as gl,H as vl,I as hl,J as yl,K as bl,L as wl,M as Cl,N as _l}from"./element-plus@2.8.4_vue@3.5.11_typescript@5.6.3_-D1SE-Aml.js";import{v as S,y as he,z as Ce,t as Q,A as kl,n as le,d as q,C as te,f as ce,g as _e,x as Ie,o as g,D as B,E as A,G as ke,H as R,i as D,I as $e,J,c as F,h as L,K as se,F as H,L as X,M as K,N as Re,O as Z,P as ie,Q as ue,R as O,a as V,T as Al,k as Ml}from"./@vue_runtime-core@3.5.11-chVhR6Yx.js";import{g as z,v,n as ye}from"./@vue_reactivity@3.5.11-DAO7X3Tx.js";import{o as ee,O as be,P as N,p as Pl}from"./@vue_shared@3.5.11-S6w9rQTA.js";import{E as $l}from"./@element-plus_icons-vue@2.3.1_vue@3.5.11_typescript@5.6.3_-C1XuXE2m.js";import{w as Bl,a as de,v as ae,T as Sl}from"./@vue_runtime-dom@3.5.11-DWqkr7Eh.js";function ne(){const i=Se().value;return i&&i.experimentalFeatures&&i.experimentalFeatures.ElementPlusCrx?i.experimentalFeatures.ElementPlusCrx:{AgelFormItem:{},AgelTable:{}}}function fe(i){return S(()=>{const e=Se().value;return e&&e.locale&&e.locale.name&&i[e.locale.name]?i[e.locale.name]:i.en})}const Fe="formLayoutContext";function me(i){const t=he(xe),e=Ce(),l={},s=S(()=>i.items.filter(o=>o.hidden!==!0));function u(o=""){return i.modelProp&&o?i.modelProp+"."+o:o||""}function m(o){let M=u(o.prop),r=i.scope||{},n=typeof o.viewModel=="boolean"?o.viewModel:i.viewModel;return G(I(I({},r),o),{prop:M,viewModel:n})}function a(o){const r=((t==null?void 0:t.requireAsteriskPosition)||"left")=="right"?"agel-required-label-right":"agel-required-label";if(t!=null&&t.hideRequiredAsterisk)return"";if(o.required||o.rules&&(Array.isArray(o.rules)?o.rules:[o.rules]).some(C=>C==null?void 0:C.required))return r;if(t.rules&&o.prop){const n=we(t.rules,o.prop).value;if(n&&(Array.isArray(n)?n:[n]).some($=>$==null?void 0:$.required))return r}return""}function p(o){const M=s.value.map(r=>u(r.prop));return t.validateField(M,o)}function c(o){const M=o||s.value.map(r=>u(r.prop));return t.resetFields(M)}function w(o){if(o&&l[o])return l[o]}return Q(()=>t.model,(o,M)=>{o!==M&&le(t.clearValidate)}),kl(Fe,{refs:l,slots:e}),{formContext:t,formSlots:e,formRefs:l,formItems:s,validate:p,resetFields:c,getRef:w,getFormItemProp:u,getFormItemProps:m,getRequiredAsteriskClass:a}}const xl={class:"vloading__content el-form-item__content"},oe=q({name:"AgelFormItem",inheritAttrs:!1,__name:"AgelFormItem",props:{prop:{},label:{},required:{type:Boolean},labelWidth:{},rules:{},error:{},showMessage:{type:Boolean,default:!0},inlineMessage:{type:Boolean,default:!1},validateStatus:{},class:{},attrs:{},slot:{type:[String,Function],default:re},slots:{},viewModel:{type:Boolean},viewFormat:{},vmodel:{},loading:{type:Boolean}},setup(i,{expose:t}){const e=i,l=te(),s=ne().AgelFormItem,u=he(xe),m=he(Fe),a=z({value:void 0}),p=z(),c=z(),w=fe({"zh-cn":{required:"必填"},en:{required:" is required"}}),o=S(()=>"agel-form-item "+e.class),M=S(()=>{if(e.required){const b={required:!0,message:((e.label&&typeof e.label=="string"?e.label:e.prop)||"")+w.value.required,trigger:"change"};return Array.isArray(e.rules)?[b,...e.rules]:e.rules instanceof Object?[b,e.rules]:[b]}else return e.rules}),r=S(()=>G(I(I({},e),l),{modelValue:a.value.value,label:typeof e.label=="string"?e.label:""})),n=()=>e.labelWidth===0||e.labelWidth==="0px"?null:typeof e.label=="string"?L("span",e.label):typeof e.label=="function"?e.label(G(I({},r.value),{label:""})):null,C=()=>{if(e.viewModel)return e.viewFormat?e.viewFormat(I({},r.value)):L("span",{},a.value.value);if(typeof e.slot=="function")return e.slot(I({},r.value));if(typeof e.slot=="string"&&e.slot.indexOf("slot-")==0&&m&&m.slots[e.slot])return m.slots[e.slot](I({},r.value));const _=typeof e.slot=="string"?se(e.slot):e.slot;if(typeof _!="object")return null;const h=_.name&&s&&s[_.name]?s[_.name](I({},r.value)):{},b=G(I(I({},h||{}),e.attrs||{}),{ref:p,modelValue:a.value.value,"onUpdate:modelValue":$}),y=typeof e.slots=="function"?{default:e.slots}:e.slots;return L(_,b,I({},y))};function $(_){const h=e.vmodel;typeof h=="string"&&typeof _=="string"&&(h==".trim"?_=_.trim():h==".number"&&!isNaN(parseFloat(_))&&(_=parseFloat(_))),a.value.value=_}function d(){c.value.resetField()}function k(){c.value.clearValidate()}return ce(()=>{m&&e.prop&&(m.refs[e.prop]=p.value)}),_e(()=>{m&&e.prop&&(m.refs[e.prop]=void 0)}),Ie(()=>{u&&u.model&&e.prop&&(a.value=we(u.model,e.prop))}),t({elRef:p,resetField:d,clearValidate:k}),(_,h)=>{const b=ke("loading");return g(),B(v(He),{prop:_.prop,"label-width":_.labelWidth===0?"0px":_.labelWidth,"show-message":_.showMessage,"inline-message":_.inlineMessage,error:_.error,rules:M.value,validateStatus:_.validateStatus,class:ee(o.value),ref_key:"formItemRef",ref:c},{label:A(()=>[R(_.$slots,"label",{},()=>[D(n)])]),error:A(y=>[R(_.$slots,"error",be($e(y)))]),default:A(()=>[J((g(),F("div",xl,[R(_.$slots,"default",be($e(r.value)),()=>[D(C)])])),[[b,_.loading]])]),_:3},8,["prop","label-width","show-message","inline-message","error","rules","validateStatus","class"])}}}),El={class:"agel-form-items"},Tl=q({name:"AgelFormItems",__name:"AgelFormItems",props:{items:{},modelProp:{},viewModel:{type:Boolean},scope:{}},setup(i,{expose:t}){const e=i,{formItems:l,getFormItemProps:s,getRef:u,validate:m,resetFields:a}=me(e);return t({getRef:u,validate:m,resetFields:a}),(p,c)=>(g(),F("div",El,[(g(!0),F(H,null,X(v(l),(w,o)=>(g(),B(v(oe),K({ref_for:!0},v(s)(w),{key:o}),null,16))),128))]))}}),Il=q({name:"AgelFormGrid",__name:"AgelFormGrid",props:{items:{},modelProp:{},viewModel:{type:Boolean},scope:{},span:{default:24},responsive:{type:Boolean},responsiveMethod:{},tag:{},gutter:{default:18},justify:{},align:{}},setup(i,{expose:t}){const e=i,{formItems:l,getFormItemProps:s,getRef:u,validate:m,resetFields:a}=me(e),p=z(),c=z(24),w=new ResizeObserver(function(){const r=p.value.$el;if(!r)return;const n=r.clientWidth-e.gutter;!e.responsive||n==0||(c.value=e.responsiveMethod?e.responsiveMethod(n):M(n))});function o(r){return typeof r=="number"?r:e.responsive?c.value:e.span}function M(r){let n=24;return r>=500&&r<800&&(n=12),r>=800&&r<1200&&(n=8),r>=1200&&r<1600&&(n=6),r>=1600&&(n=4),n}return ce(()=>{e.responsive&&w.observe(p.value.$el)}),Re(()=>{e.responsive&&w.unobserve(p.value.$el)}),t({getRef:u,validate:m,resetFields:a}),(r,n)=>(g(),B(v(Ue),{ref_key:"rowRef",ref:p,class:"agel-form-grid",gutter:r.gutter,justify:r.justify,align:r.align,tag:r.tag},{default:A(()=>[R(r.$slots,"prepend"),(g(!0),F(H,null,X(v(l),(C,$)=>(g(),B(v(je),{key:$,span:o(C.span),push:C.push,pull:C.pull,offset:C.offset},{default:A(()=>[D(v(oe),K({ref_for:!0},v(s)(C)),null,16)]),_:2},1032,["span","push","pull","offset"]))),128)),R(r.$slots,"append")]),_:3},8,["gutter","justify","align","tag"]))}});function Ve(i,t){let e={};return i.forEach(l=>{let s=t[l];s!==void 0&&(e[l]=s)}),e}function Y(i,t){let e={};for(const l in t)t[l]!==void 0&&!i.includes(l)&&(e[l]=t[l]);return e}function Rl(){return"xxxxxxxx".replace(/[x]/g,i=>{let t=Math.random()*16|0;return(i=="x"?t:t&3|8).toString(16)})}function ge(i){return i.reduce((t,e)=>t.concat(Array.isArray(e.children)&&e.children.length>0?ge(e.children):e),[])}function Fl(i){return/^data:image\/[a-z]+;base64,/.test(i)}function ze(i){const t=i.split(".").pop(),l=(t?t.split("?")[0]:"").toLocaleLowerCase();return["png","jpg","jpeg","bmp","gif","svg"].includes(l)?"img":["mp4","ogg","webm"].includes(l)?"video":["mp3","wav","ogg"].includes(l)?"audio":""}const Be=function(i,t){let e="dynamic-style-"+i,l=document.getElementById(e);l&&l.parentNode&&l.parentNode.removeChild(l),typeof t=="string"&&(l=document.createElement("style"),l.id=e,l.type="text/css",document.getElementsByTagName("head")[0].appendChild(l),l.appendChild(document.createTextNode(t)))};function Vl(i,t){let e=null;return function(...l){e||(e=setTimeout(()=>{i.apply(this,l),e=null},t))}}const zl=q({name:"AgelFormDesc",__name:"AgelFormDesc",props:{labelWidth:{},contentWidth:{},items:{},modelProp:{},scope:{},viewModel:{type:Boolean},border:{type:Boolean,default:!0},title:{},extra:{},column:{}},setup(i,{expose:t}){const e=i,l="decs-"+Rl(),{formContext:s,formItems:u,getFormItemProps:m,getRequiredAsteriskClass:a,getRef:p,validate:c,resetFields:w}=me(e),o=S(()=>(s==null?void 0:s.labelPosition)=="top"?"vertical":"horizontal"),M=S(()=>(s==null?void 0:s.size)||"default"),r=function(d){const k=typeof d.label=="function"?d.label():L("span",d.label),_={class:a(d)};return L("div",_,[k])};function n(d){let k=d.labelWidth||e.labelWidth||(s==null?void 0:s.labelWidth)||"auto",_=d.contentWidth||e.contentWidth||"auto",h=typeof k=="number"?k+"px":k,b=typeof _=="number"?_+"px":_;return{labelClassName:"__label-width-"+h,labelWidth:h,contentWidth:b}}function C(d){let k=s==null?void 0:s.labelPosition;return{span:d.span,class:d.className,labelAlign:k=="right"?"right":"left",labelClassName:n(d).labelClassName+" "+(d.labelClassName||"")}}function $(){let d="",k=[];return u.value.forEach(_=>{let{labelClassName:h,labelWidth:b,contentWidth:y}=n(_);k.includes(h)||(k.push(h),d+=`
        #${l} .${h} {
          width:${b} !important; 
        }  
        #${l} .${h}+td{
          min-width:${y};  
        }  
        `)}),d}return Ie(()=>{Be(l,$())}),Re(()=>{Be(l,null)}),t({getRef:p,validate:c,resetFields:w}),(d,k)=>(g(),B(v(Ge),{border:"",title:d.title,extra:d.extra,column:d.column,direction:o.value,size:M.value,id:l,class:ee(["agel-form-decs __hidelabel __inlinemsg __fullwidth __fixed-clearable ",{"desc-hide-border":!d.border}])},{extra:A(()=>[R(d.$slots,"extra")]),title:A(()=>[R(d.$slots,"title")]),default:A(()=>[R(d.$slots,"prepend"),(g(!0),F(H,null,X(v(u),(_,h)=>(g(),B(v(Xe),K({key:h,ref_for:!0},C(_)),{label:A(()=>[D(r,K({ref_for:!0},_),null,16)]),default:A(()=>[D(v(oe),K({ref_for:!0},v(m)(_),{"label-width":"0px"}),null,16)]),_:2},1040))),128)),R(d.$slots,"append")]),_:3},8,["title","extra","column","direction","size","class"]))}}),Nl=q({name:"AgelFormTableditor",__name:"AgelFormTableditor",props:{items:{default:()=>[]},modelProp:{},size:{},width:{default:"100%"},height:{},maxHeight:{},fit:{type:Boolean,default:!0},stripe:{type:Boolean},border:{type:Boolean},rowKey:{},context:{},showHeader:{type:Boolean,default:!0},showSummary:{type:Boolean},sumText:{},summaryMethod:{},rowClassName:{},rowStyle:{},cellClassName:{},cellStyle:{},headerRowClassName:{},headerRowStyle:{},headerCellClassName:{},headerCellStyle:{},highlightCurrentRow:{type:Boolean},currentRowKey:{},emptyText:{},expandRowKeys:{},defaultExpandAll:{type:Boolean},defaultSort:{},tooltipEffect:{},tooltipOptions:{},spanMethod:{},selectOnIndeterminate:{type:Boolean,default:!0},indent:{},treeProps:{},lazy:{type:Boolean},load:{},className:{},style:{},tableLayout:{},scrollbarAlwaysOn:{type:Boolean},flexible:{type:Boolean},showOverflowTooltip:{type:[Boolean,Object]},appendFilterPanelTo:{},scrollbarTabindex:{},onSelect:{},onSelectAll:{},onSelectionChange:{},onCellMouseEnter:{},onCellMouseLeave:{},onCellClick:{},onCellDbClick:{},onCellContextmenu:{},onRowClick:{},onRowContextmenu:{},onRowDbClick:{},onHeaderClick:{},onHeaderContextmenu:{},onSortChange:{},onFilterChange:{},onCurrentChange:{},onHeaderDragend:{},onExpandChange:{}},setup(i,{expose:t}){const e=i,l=["type","index","align","headerAlign","width","minWidth","fixed","showOverflowTooltip"],s=["items","modelProp"],{formContext:u,formRefs:m,getRequiredAsteriskClass:a,getRef:p}=me(e),c=S(()=>u.model?we(u.model,e.modelProp,[]).value:[]),w=({columns:r})=>r.filter(n=>n.hidden!==!0).map(n=>{const C=()=>{const _=typeof n.label=="function"?n.label():L("span",n.label),h={class:a(n)};return L("div",h,[_])},$=({$index:_,row:h})=>{if(n.type)return null;if(n.children&&n.children.length>0)return L(w,{columns:n.children});const b=o(n.prop,_),y={rowData:h,rowIndex:_},x=typeof n.viewModel=="boolean"?n.viewModel:h._view_;return L(oe,G(I(I({},y),n),{prop:b,viewModel:x,labelWidth:"0px"}))},d=Ve(l,n);return L(Te,d,{header:C,default:$})});function o(r="",n){return r?`${e.modelProp}.${n}.${r}`:""}function M(r,n){const C=ge(e.items).map($=>o($.prop,r)).filter($=>$);return u.validateField(C,n)}return t({getRef:p,validateRow:M}),(r,n)=>(g(),B(v(Ee),K({ref:C=>v(m).elTable=C,class:"agel-form-table __hidelabel __inlinemsg __fullwidth"},v(Y)(s,e),{data:c.value}),{empty:A(()=>[R(r.$slots,"empty")]),append:A(()=>[R(r.$slots,"append-row")]),default:A(()=>[R(r.$slots,"prepend"),R(r.$slots,"default",{},()=>[D(w,{columns:r.items},null,8,["columns"])]),R(r.$slots,"append")]),_:3},16,["data"]))}}),Dl=q({name:"AgelCheckbox",__name:"AgelCheckbox",props:{options:{default:()=>[]},props:{default:()=>({label:"label",value:"value"})},button:{type:Boolean},border:{type:Boolean},ariaLabel:{},modelValue:{},disabled:{type:Boolean},min:{},max:{},size:{},fill:{},textColor:{},tag:{},validateEvent:{type:Boolean,default:!0}},setup(i){const t=i,e=S(()=>Y(["options","props","button","border"],I(I({},t),te()))),l=S(()=>t.options.map(m=>typeof m=="string"?{label:m,value:m}:m)),s=S(()=>t.button?Je:Qe);return(u,m)=>(g(),B(v(Ye),K({class:"agel-checkbox-group"},e.value),{default:A(()=>[m[0]||(m[0]=Z(" /** 2.6.0+ 使用 vlaue 代替 label */ ")),(g(!0),F(H,null,X(l.value,(a,p)=>(g(),B(ie(s.value),{key:p,border:u.border,label:a[t.props.value],value:a[t.props.value],disabled:a.disabled,checked:a.checked},{default:A(()=>[R(u.$slots,"default",{item:a,index:p},()=>[Z(N(a[t.props.label]),1)])]),_:2},1032,["border","label","value","disabled","checked"]))),128))]),_:3},16))}}),Ol=q({name:"AgelRadio",__name:"AgelRadio",props:{options:{default:()=>[]},props:{default:()=>({label:"label",value:"value"})},button:{type:Boolean},border:{type:Boolean}},setup(i){const t=i,e=S(()=>Y(["options","props","button","border"],I(I({},t),te()))),l=S(()=>t.options.map(m=>typeof m=="string"?{label:m,value:m}:m)),s=S(()=>t.button?el:ll);return(u,m)=>(g(),B(v(Ze),K({class:"agel-radio-group"},e.value),{default:A(()=>[(g(!0),F(H,null,X(l.value,(a,p)=>(g(),B(ie(s.value),{key:p,border:u.border,label:a[t.props.value],value:a[t.props.value],disabled:a.disabled},{default:A(()=>[R(u.$slots,"default",{item:a,index:p},()=>[Z(N(a[t.props.label]),1)])]),_:2},1032,["border","label","value","disabled"]))),128))]),_:3},16))}}),Kl=q({name:"AgelSelect",__name:"AgelSelect",props:{options:{default:()=>[]},props:{default:()=>({label:"label",value:"value"})}},setup(i,{expose:t}){const e=i,l=z(),s=S(()=>Y(["options","props"],I(I({},e),te()))),u=S(()=>e.options.map(c=>typeof c=="string"?{label:c,value:c}:c));return t({focus:()=>l.value.focus(),blur:()=>l.value.blur()}),(p,c)=>(g(),B(v(tl),K({ref_key:"elSelectRef",ref:l,class:"agel-select"},s.value),ue({default:A(()=>[(g(!0),F(H,null,X(u.value,(w,o)=>(g(),F(H,{key:o},[w.options&&w.options.length>0?(g(),B(v(ol),{key:0,label:String(w[e.props.label]),disabled:w.disabled},{default:A(()=>[(g(!0),F(H,null,X(w.options,(M,r)=>(g(),B(v(Pe),{key:r,label:M[e.props.label],value:M[e.props.value],disabled:M.disabled},{default:A(()=>[R(p.$slots,"default",{item:M,index:r})]),_:2},1032,["label","value","disabled"]))),128))]),_:2},1032,["label","disabled"])):(g(),B(v(Pe),{key:1,label:w[e.props.label],value:w[e.props.value],disabled:w.disabled},{default:A(()=>[R(p.$slots,"default",{item:w,index:o})]),_:2},1032,["label","value","disabled"]))],64))),128))]),prefix:A(()=>[R(p.$slots,"prefix")]),_:2},[p.$slots.empty?{name:"empty",fn:A(()=>[R(p.$slots,"empty")]),key:"0"}:void 0]),1040))}}),Wl=["src"],j=q({name:"AgelIcon",__name:"AgelIcon",props:{icon:{}},setup(i){const t=i,e=$l,l=S(()=>typeof t.icon=="string"&&(ze(t.icon)=="img"||Fl(t.icon))?t.icon:null),s=S(()=>typeof t.icon=="string"&&e[t.icon]?e[t.icon]:null),u=S(()=>typeof t.icon=="object"?t.icon:null);return(m,a)=>l.value?(g(),F("img",K({key:0,src:l.value,class:"el-icon"},m.$attrs),null,16,Wl)):(g(),B(v(al),be(K({key:1},m.$attrs)),{default:A(()=>[s.value?(g(),B(ie(s.value),{key:0})):O("",!0),u.value?(g(),B(ie(u.value),{key:1})):O("",!0)]),_:1},16))}}),ql={key:0,class:"el-upload__tip"},Ll={class:"el-upload__text"},Hl=q({name:"AgelUpload",__name:"AgelUpload",props:{modelValue:{default:()=>[]},preview:{type:Boolean,default:!0},message:{type:Boolean,default:!0},limitHide:{type:Boolean},limitSize:{},tip:{},beforeUpload:{},beforeRemove:{},onRemove:{},onChange:{},onPreview:{},onSuccess:{},onProgress:{},onError:{},onExceed:{},crossorigin:{},action:{},headers:{},method:{},data:{},multiple:{type:Boolean},name:{},drag:{type:Boolean},withCredentials:{type:Boolean},showFileList:{type:Boolean,default:!0},accept:{},autoUpload:{type:Boolean,default:!0},listType:{default:"text"},httpRequest:{},disabled:{type:Boolean},limit:{}},setup(i,{expose:t}){const e=i,l=z(),s=S(()=>Y(["modelValue","peview","message","limitHide","limitSize","tip"],e)),u=fe({"zh-cn":{limitSize:"最大允许上传大小",limit:"最大允许上传个数",error:"文件上传失败",upload:"点击上传",drag:"将文件拖到此处，或"},en:{limitSize:"Maximum allowed upload size",limit:"Maximum number of uploads allowed",error:"File upload failure",upload:"Click to upload",drag:"Drop file here or "}}),m=S(()=>e.limitHide&&e.limit!==void 0&&e.modelValue.length>=e.limit);function a(d,k){e.message&&sl[d](k)}function p(d){return e.limitSize&&d.size&&d.size/1024>e.limitSize?(a("warning",`${u.value.limitSize}：${e.limitSize}kb`),!1):e.beforeUpload?e.beforeUpload(d):!0}function c(d,k){if(a("warning",`${u.value.limit}${e.limit}`),e.onExceed)return e.onExceed(d,k)}function w(d,k,_){if(a("error",`${u.value.error}`),e.onError)return e.onError(d,k,_)}function o(d){if(d.url&&e.preview){const k=d.url,_=ze(k);let h=null;_=="img"?h=L("img",{class:"agel-upload-preview-img",src:k}):_=="video"?h=L("video",{class:"agel-upload-preview-video",src:k,controls:!0}):_=="audio"?h=L("audio",{class:"agel-upload-preview-audio",src:k,controls:!0}):h=L("p",null,"该文件不支持预览"),rl({title:"",customClass:"agel-upload-preview-msgbox",center:!0,message:h,confirmButtonText:"下载",showConfirmButton:!1}).then(()=>{let b=document.createElement("a");b.href=k||"",b.download=d.name,b.target="_blank",b.click(),b=null})}e.onPreview&&e.onPreview(d)}function M(d){var k;(k=l.value)==null||k.abort(d)}function r(){var d;(d=l.value)==null||d.submit()}function n(d){var k;(k=l.value)==null||k.clearFiles(d)}function C(d){var k;(k=l.value)==null||k.handleStart(d)}function $(d){var k;(k=l.value)==null||k.handleRemove(d)}return t({abort:M,submit:r,clearFiles:n,handleStart:C,handleRemove:$}),(d,k)=>(g(),B(v(nl),K({ref_key:"elUpload",ref:l},s.value,{"file-list":d.modelValue,class:["agel-upload",{"limit-hide-trigger":m.value}],"list-type":d.listType,limit:d.limit,"before-upload":p,"on-preview":o,"on-exceed":c,"on-error":w}),ue({tip:A(()=>[R(d.$slots,"tip",{},()=>[d.tip?(g(),F("div",ql,N(d.tip),1)):O("",!0)])]),default:A(()=>[R(d.$slots,"default",{},()=>[d.drag?(g(),F(H,{key:0},[D(v(j),{icon:"UploadFilled",class:"el-icon--upload"}),V("div",Ll,[Z(N(v(u).drag)+" ",1),V("em",null,N(v(u).upload),1)])],64)):d.listType=="picture-card"?(g(),B(v(j),{key:1,icon:"Plus"})):(g(),B(v(pe),{key:2,type:"primary"},{default:A(()=>[Z(N(v(u).upload),1)]),_:1}))])]),_:2},[d.$slots.trigger?{name:"trigger",fn:A(()=>[R(d.$slots,"trigger")]),key:"0"}:void 0]),1040,["file-list","class","list-type","limit"]))}}),Ul={class:"agel-dynamic-tags"},jl=q({name:"AgelDynamicTags",__name:"AgelDynamicTags",props:{modelValue:{},createable:{type:Boolean,default:!0},repeatable:{type:Boolean},disabled:{type:Boolean},validateEvent:{type:Boolean,default:!0},customTagProp:{},type:{},closable:{type:Boolean,default:!0},hit:{type:Boolean},color:{},effect:{},round:{type:Boolean}},emits:["update:modelValue","create","click","close"],setup(i,{emit:t}){const e=i,l=t,s=z(!1),u=z(""),m=z(),a=il(S(()=>e.disabled)),{formItem:p}=ul();function c(n,C){const $=["type","closable","hit","color","effect","round"],d=e.customTagProp?e.customTagProp(n,C):{};return I(I({},Ve($,e)),d)}function w(n,C){let $=[...e.modelValue];$.splice(C,1),l("close",n,C),l("update:modelValue",$)}function o(n,C){l("click",n,C)}function M(){s.value=!0,le(()=>{var n,C;(C=(n=m.value)==null?void 0:n.input)==null||C.focus()})}function r(){u.value&&(e.modelValue.indexOf(u.value)==-1||e.repeatable)&&(l("update:modelValue",e.modelValue.concat(u.value)),l("create",u)),s.value=!1,u.value=""}return Q(()=>e.modelValue,()=>{var n;e.validateEvent&&((n=p==null?void 0:p.validate)==null||n.call(p,"change").catch(C=>pl()))}),(n,C)=>(g(),F("div",Ul,[(g(!0),F(H,null,X(n.modelValue,($,d)=>(g(),B(v(dl),K({key:$+"-"+d,"disable-transitions":!0,ref_for:!0},c($,d),{onClose:k=>w($,d),onClick:k=>o($,d)}),{default:A(()=>[V("span",null,N($),1)]),_:2},1040,["onClose","onClick"]))),128)),n.createable?(g(),F(H,{key:0},[s.value?(g(),B(v(re),{key:0,class:"new-tag-input",modelValue:u.value,"onUpdate:modelValue":C[0]||(C[0]=$=>u.value=$),disabled:v(a),ref_key:"InputRef",ref:m,onKeyup:Bl(r,["enter"]),onBlur:r},null,8,["modelValue","disabled"])):(g(),B(v(pe),{key:1,class:"new-tag-button",disabled:v(a),onClick:M},{default:A(()=>C[1]||(C[1]=[Z("+ New Tag")])),_:1},8,["disabled"]))],64)):O("",!0)]))}}),Gl={class:"agel-map-input"},Xl={class:"ag-dialog-body"},Yl={class:"addr-row"},Jl={class:"addr-label"},Ql={key:0,class:"addr-error"},Zl={class:"addr-row"},et={class:"addr-label"},lt={class:"name"},tt={class:"addr"},ot={class:"agel-map-box",style:{width:"100%",height:"400px",position:"relative"}},at=["id"],nt=["id"],rt={class:"dialog-footer"},st=q({name:"AgelMapInput",__name:"AgelMapInput",props:{modelValue:{},editable:{type:Boolean},keywordSearch:{type:Boolean,default:!0},destroyDialogOnClose:{type:Boolean},AMap:{type:Function,default:i=>i(window.AMap)},placeholder:{},disabled:{type:Boolean},readonly:{type:Boolean},clearable:{type:Boolean},prefixIcon:{default:"MapLocation"},suffixIcon:{},size:{},validateEvent:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(i,{emit:t}){const e=i,l=t,s=z(""),u=z(!1),m=z(!1),a=z(!1),p=z(""),c=z(""),w=z(),o={id:"map-"+Math.random(),Instance:null,AMap:null,Marker:null,PlaceSearch:null,Autocomplete:null,Geocoder:null},M=S(()=>Array.isArray(e.modelValue)?e.modelValue[0]||"":e.modelValue),r=fe({"zh-cn":{title:"地图选择器",address:"已选中地址",nolnglat:"无经纬度",error:"请先选择地点",keyword:"关键字检索",keywordPlaceholder:"请输入关键字检索地址",confrim:"确 定"},en:{title:"Map selector",address:"Address",keyword:"Keyword",nolnglat:"No latitude and longitude",error:"Please select the location first",keywordPlaceholder:"Please input keyword search",confrim:"Confrim"}});function n(){u.value=!0,le(()=>m.value=!0)}function C(){if(o.AMap!==null){$();return}const f=["AMap.PlaceSearch","AMap.Autocomplete","AMap.AutoComplete","AMap.Geocoder"];a.value=!0,e.AMap(T=>{a.value=!1,T&&T.Map?(o.AMap=T,$()):console.error("Error:AMap is not valid",T)},f)}function $(){if(o.Instance){_();return}o.Instance=new o.AMap.Map("map-"+o.id,{zoom:12}),o.Geocoder=new o.AMap.Geocoder,o.Autocomplete=new(o.AMap.Autocomplete||o.AMap.AutoComplete),o.PlaceSearch=new o.AMap.PlaceSearch({map:o.Instance,pageSize:5,pageIndex:1,panel:"panel-"+o.id,autoFitView:!0}),o.PlaceSearch.on("selectChanged",y),o.Instance.on("click",h),_()}function d(){w.value=null,c.value="",p.value="",s.value="",o.PlaceSearch&&o.PlaceSearch.clear(),x(!1),e.destroyDialogOnClose&&(o.Instance.destroy(),o.Instance=null,o.id="map-"+Math.random(),u.value=!1)}function k(f,T){if(!f||f.trim()=="")return T([]);o.Autocomplete.search(f,(W,U)=>{T(W=="complete"?U.tips:[])})}function _(){const f=e.modelValue;typeof M.value=="string"&&(c.value=M.value),Array.isArray(f)&&f[1]&&f[2]?(w.value=new o.AMap.LngLat(f[1],f[2]),o.Instance.setZoomAndCenter(12,w.value),x()):(w.value=null,x(!1))}function h(f){o.Geocoder.getAddress(f.lnglat,(T,W)=>{T==="complete"&&W.regeocode&&(p.value="",s.value="",c.value=W.regeocode.formattedAddress,w.value=f.lnglat,x())})}function b(f){f!=null&&(f.location&&(c.value=f.name,w.value=f.location,s.value=""),x(!1),o.PlaceSearch.search(f.district+f.name))}function y(f){c.value=f.selected.data.name,w.value=f.selected.data.location,s.value="",x(!1)}function x(f=!0){o.Marker&&(o.Instance.remove(o.Marker),o.Marker=null),f&&w.value&&c.value&&(o.PlaceSearch&&o.PlaceSearch.clear(),o.Marker=new o.AMap.Marker({position:w.value,label:{direction:"bottom",content:c.value}}),o.Instance.add(o.Marker))}function E(){const f=e.modelValue;c.value&&w.value?(s.value="",Array.isArray(f)?l("update:modelValue",[c.value,w.value.lng,w.value.lat]):l("update:modelValue",c.value),m.value=!1):s.value=r.value.error}function P(){l("update:modelValue",Array.isArray(e.modelValue)?[]:"")}return(f,T)=>{const W=ke("loading");return g(),F("div",Gl,[D(v(re),{"model-value":M.value,placeholder:f.placeholder,disabled:f.disabled,readonly:f.readonly,clearable:f.clearable,prefixIcon:f.prefixIcon,"suffix-icon":f.suffixIcon,size:f.size,"validate-event":f.validateEvent,onClear:P,onClick:de(n,["stop"])},ue({prefix:A(()=>[R(f.$slots,"prefix")]),suffix:A(()=>[R(f.$slots,"suffix")]),_:2},[f.$slots.prepend?{name:"prepend",fn:A(()=>[R(f.$slots,"prepend")]),key:"0"}:void 0,f.$slots.append?{name:"append",fn:A(()=>[R(f.$slots,"append")]),key:"1"}:void 0]),1032,["model-value","placeholder","disabled","readonly","clearable","prefixIcon","suffix-icon","size","validate-event"]),u.value?(g(),B(v(cl),{key:0,width:"800px",title:v(r).title,modelValue:m.value,"onUpdate:modelValue":T[2]||(T[2]=U=>m.value=U),"append-to-body":"",class:"agel-map-input-dialog","close-on-press-escape":!1,onOpened:C,onClosed:d},{footer:A(()=>[V("span",rt,[D(v(pe),{type:"primary",onClick:E},{default:A(()=>[Z(N(v(r).confrim),1)]),_:1})])]),default:A(()=>[V("div",Xl,[V("div",Yl,[V("div",Jl,N(v(r).address),1),D(v(re),{modelValue:c.value,"onUpdate:modelValue":T[0]||(T[0]=U=>c.value=U),readonly:!f.editable},ue({_:2},[Array.isArray(f.modelValue)?{name:"append",fn:A(()=>[V("span",null,N(w.value?w.value.lng+" , "+w.value.lat:v(r).nolnglat),1)]),key:"0"}:void 0]),1032,["modelValue","readonly"]),s.value?(g(),F("div",Ql,N(s.value),1)):O("",!0)]),V("div",Zl,[V("div",et,N(v(r).keyword),1),D(v(fl),{style:{width:"100%"},modelValue:p.value,"onUpdate:modelValue":T[1]||(T[1]=U=>p.value=U),"popper-class":"agel-map-input-popper","fetch-suggestions":k,placeholder:v(r).keywordPlaceholder,"value-key":"name",clearable:"",onSelect:b,onClear:x},{default:A(({item:U})=>[V("span",null,[V("i",{class:ee(U.location?"el-icon-location-information":"el-icon-search")},null,2)]),V("span",lt,N(U.name),1),V("span",tt,N(U.district+U.address),1)]),_:1},8,["modelValue","placeholder"])]),J((g(),F("div",ot,[V("div",{id:"map-"+o.id,style:{width:"100%",height:"100%"}},null,8,at),V("div",{id:"panel-"+o.id,class:"agel-map-panel"},null,8,nt)])),[[W,a.value]])])]),_:1},8,["title","modelValue"])):O("",!0)])}}});function it(i){const t=i.merge.keys||[],e=S(()=>ge(i.columns).map((a,p)=>({name:a.prop,index:p})).filter(a=>i.merge.keys.includes(a.name))),l=S(()=>{const a=i.data,p=i.merge.direction||"auto",c=e.value,w={};if(c.length>0&&a.length>0)for(let o=0;o<a.length;o++)for(let M=0;M<c.length;M++){let r=1,n=1;(p==="vertical"||p==="auto")&&(o>0&&a[o][c[M].name]===a[o-1][c[M].name]&&(r=0),r>0&&(r=u(a,o,o+1,1,c[M].name))),(p==="horizontal"||p==="auto")&&(M>0&&a[o][c[M].name]===a[o][c[M-1].name]&&(n=0),n>0&&(n=s(a[o],M,M+1,1,c.length)));const C=c[M].index+"_"+o;w[C]=[r,n]}return w});function s(a,p,c,w,o){return c<o&&a[t[p]]===a[t[c]]?s(a,p,++c,++w,o):w}function u(a,p,c,w,o){return c<a.length&&a[p][o]===a[c][o]?u(a,p,++c,++w,o):w}function m({rowIndex:a,columnIndex:p}){return l.value[p+"_"+a]}return m}const ut={class:"agel-table agel-table-resize"},dt=q({name:"AgelTable",__name:"AgelTable",props:{columns:{default:()=>[]},page:{},merge:{},loading:{type:Boolean},request:{},data:{default:()=>[]},size:{},width:{default:"100%"},height:{},maxHeight:{},fit:{type:Boolean,default:!0},stripe:{type:Boolean},border:{type:Boolean},rowKey:{},context:{},showHeader:{type:Boolean,default:!0},showSummary:{type:Boolean},sumText:{},summaryMethod:{},rowClassName:{},rowStyle:{},cellClassName:{},cellStyle:{},headerRowClassName:{},headerRowStyle:{},headerCellClassName:{},headerCellStyle:{},highlightCurrentRow:{type:Boolean},currentRowKey:{},emptyText:{},expandRowKeys:{},defaultExpandAll:{type:Boolean},defaultSort:{},tooltipEffect:{},tooltipOptions:{},spanMethod:{},selectOnIndeterminate:{type:Boolean,default:!0},indent:{},treeProps:{},lazy:{type:Boolean},load:{},className:{},style:{},tableLayout:{},scrollbarAlwaysOn:{type:Boolean},flexible:{type:Boolean},showOverflowTooltip:{type:[Boolean,Object]},appendFilterPanelTo:{},scrollbarTabindex:{},onSelect:{},onSelectAll:{},onSelectionChange:{},onCellMouseEnter:{},onCellMouseLeave:{},onCellClick:{},onCellDbClick:{},onCellContextmenu:{},onRowClick:{},onRowContextmenu:{},onRowDbClick:{},onHeaderClick:{},onHeaderContextmenu:{},onSortChange:{},onFilterChange:{},onCurrentChange:{},onHeaderDragend:{},onExpandChange:{}},emits:["update:page"],setup(i,{expose:t,emit:e}){var b,y,x;const l=i,s=e,u=Ce(),m=((b=ne().AgelTable)==null?void 0:b.ElTable)||{},a=((y=ne().AgelTable)==null?void 0:y.ElTableColumn)||{},p=((x=ne().AgelTable)==null?void 0:x.ElPagination)||{},c=z(),w=S(()=>{const E=["columns","page","merge","loading","request"];return I(I({},m),Y(E,l))}),o=S(()=>I(I({},p),l.page)),M=S(()=>{if(!l.page)return!1;const{currentPage:E,pageSize:P,total:f,pageCount:T}=l.page;return typeof E=="number"&&typeof P=="number"&&(typeof f=="number"||typeof T=="number")}),r=S(()=>{if(l.page)return{prop:l.page.sortProp,order:l.page.sortOrder}}),n=l.merge?it(l):l.spanMethod,C=({columns:E})=>E.filter(P=>P.hidden!==!0).map(P=>{const f=["hidden","children","slot"],T=I(I({},a),Y(f,P)),W={};return typeof P.label=="function"&&(W.header=P.label,T.label=""),P.children&&P.children.length>0?W.default=()=>L(C,{columns:P.children}):typeof P.slot=="function"?W.default=P.slot:typeof P.slot=="string"&&P.slot.indexOf("slot-")===0&&u[P.slot]&&(W.default=u[P.slot]),L(Te,T,W)});function $(E){var P;s("update:page",G(I({},l.page),{currentPage:E})),(P=l.request)==null||P.call(l)}function d(E){var P;s("update:page",G(I({},l.page),{currentPage:1,pageSize:E})),(P=l.request)==null||P.call(l)}function k({column:E,prop:P,order:f}){var T;typeof E.sortable=="string"&&(s("update:page",G(I({},l.page),{currentPage:1,sortProp:P,sortOrder:f})),(T=l.request)==null||T.call(l))}function _(){return c.value}function h(){le(()=>{var E,P;if(c.value&&l.data.length>1){const f=(E=r.value)==null?void 0:E.prop,T=(P=r.value)==null?void 0:P.order,W=ge(l.columns).find(U=>U.prop===f);f&&T&&typeof(W==null?void 0:W.sortable)=="boolean"&&c.value.sort(f,T)}})}return Q(()=>l.data,h),t({getRef:_}),(E,P)=>{const f=ke("loading");return g(),F("div",ut,[J((g(),B(v(Ee),K({class:"agel-table-resize",ref_key:"elTableRef",ref:c},w.value,{"span-method":v(n),"default-sort":r.value,onSortChange:k}),{empty:A(()=>[R(E.$slots,"empty")]),append:A(()=>[R(E.$slots,"append-row")]),default:A(()=>[R(E.$slots,"prepend"),R(E.$slots,"default",{},()=>[D(C,{columns:E.columns},null,8,["columns"])]),R(E.$slots,"append")]),_:3},16,["span-method","default-sort"])),[[f,E.loading]]),M.value?(g(),B(v(ml),K({key:0,layout:"->,total,prev, pager, next, sizes",disabled:E.loading},o.value,{"onUpdate:currentPage":$,"onUpdate:pageSize":d}),null,16,["disabled"])):O("",!0)])}}}),pt=q({name:"AgelMenuItem",__name:"AgelMenuItem",props:{index:{},title:{},icon:{},disabled:{type:Boolean},hidden:{type:Boolean},children:{},showTimeout:{},hideTimeout:{},popperClass:{},teleported:{type:Boolean,default:!0},popperOffset:{},expandCloseIcon:{},expandOpenIcon:{},collapseCloseIcon:{},collapseOpenIcon:{}},setup(i){const t=i,e=S(()=>Y(["title","icon","children","hidden"],t));return(l,s)=>{const u=se("AgelMenuItem",!0);return l.hidden!==!0?(g(),F(H,{key:0},[l.children&&l.children.length>0?(g(),B(v(gl),K({key:0},e.value,{index:l.index,disabled:l.disabled}),{title:A(()=>[t.icon?(g(),B(v(j),{key:0,icon:t.icon},null,8,["icon"])):O("",!0),V("span",null,N(t.title),1)]),default:A(()=>[(g(!0),F(H,null,X(l.children,(m,a)=>(g(),B(u,K({key:a,ref_for:!0},m),null,16))),128))]),_:1},16,["index","disabled"])):(g(),B(v(vl),{key:1,index:l.index,disabled:l.disabled},{title:A(()=>[V("span",null,N(t.title),1)]),default:A(()=>[t.icon?(g(),B(v(j),{key:0,icon:t.icon},null,8,["icon"])):O("",!0)]),_:1},8,["index","disabled"]))],64)):O("",!0)}}}),ct=q({name:"AgelMenu",__name:"AgelMenu",props:{menus:{}},setup(i,{expose:t}){const e=i,l=z(),s=S(()=>Y(["menus"],I(I({},e),te())));return t({open:(...u)=>l.value.open(...u),close:(...u)=>l.value.close(...u)}),(u,m)=>(g(),B(v(hl),K({ref_key:"menuRef",ref:l},s.value),{default:A(()=>[(g(!0),F(H,null,X(u.menus,(a,p)=>(g(),B(pt,K({key:p,ref_for:!0},a),null,16))),128))]),_:1},16))}}),ft=["onMouseenter","title"],mt={class:"tab-title"},gt=q({name:"AgelNavTabs",__name:"AgelNavTabs",props:{tabs:{default:()=>[]},routePath:{},homePath:{},more:{type:Boolean,default:!0},fixed:{type:Boolean},reload:{type:Boolean},isBackground:{type:Boolean}},emits:["update:tabs","pathChange","reload"],setup(i,{emit:t}){const e=i,l=t,s=z(),u=z(),m=ye({trigger:"click",ref:null,offset:5}),a=z(""),p=S(()=>{const h=b=>b.path==e.homePath?2:b.fixed?1:0;return[...e.tabs].sort((b,y)=>h(y)-h(b))}),c=S(()=>e.tabs.find(h=>h.path===a.value)),w=fe({"zh-cn":{more:"更多",reload:"重新加载",fixed:"固定标签",fixedCancel:"取消固定标签",close:"关闭其他标签",closeAll:"关闭所有标签"},en:{more:"More",reload:"Reload",fixed:"Fixed tab",fixedCancel:"Cancel fixed tab",close:"Close other tab",closeAll:"Close all tab"}});function o(h){let b=e.tabs.findIndex(x=>x.path===h);if(b===-1)return;e.routePath===h&&(e.tabs[b+1]?C(e.tabs[b+1].path):C(e.tabs[b-1].path));const y=[...e.tabs];y.splice(b,1),l("update:tabs",y)}function M(){const h=e.tabs.filter(b=>!d(b)||b.path===c.value.path);l("update:tabs",h),C(c.value.path)}function r(){const h=e.tabs.find(b=>b.path==e.homePath);h&&(l("update:tabs",[h]),C(h.path))}function n(){c.value.fixed=!c.value.fixed}function C(h){h!==e.routePath&&l("pathChange",h)}function $(){c.value.loading=!0,setTimeout(()=>{c.value.loading=!1},300),l("reload",c.value)}function d(h){return!(h.fixed||h.path==e.homePath)}function k(h){var b;(b=u==null?void 0:u.value)==null||b.hide()}function _(h){if(s.value&&s.value.querySelectorAll)if(h===-1){let b=s.value.querySelector(".tabs-more-button");b&&(a.value=e.routePath,m.trigger="click",m.ref=b)}else{let b=s.value.querySelectorAll(".el-tabs__item")[h];b&&(a.value=b.id.substr(4),m.trigger="contextmenu",m.ref=b)}}return(h,b)=>(g(),F("div",{ref_key:"tabsRef",ref:s,class:ee(["agel-nav-tabs",h.isBackground?"__is-background":"__concise",{"__has-more":h.more}]),onContextmenu:b[3]||(b[3]=de(()=>{},["prevent"])),onMouseleave:b[4]||(b[4]=y=>k())},[D(v(yl),{"model-value":h.routePath,type:"card",onTabChange:b[0]||(b[0]=y=>C(y))},{default:A(()=>[(g(!0),F(H,null,X(p.value,(y,x)=>(g(),B(v(wl),{key:y.path+x,label:y.title,name:y.path,closable:d(y)},{label:A(()=>[V("span",{class:ee(["agel-tab",{"fold-fixed-tab":y.fixed}]),onMouseenter:E=>_(x),title:y.title},[y.loading?(g(),B(v(j),{key:0,class:"is-loading",icon:"Loading"})):y.icon||y.fixed?(g(),B(v(j),{key:1,icon:y.icon||"Menu"},null,8,["icon"])):O("",!0),V("span",mt,N(y.title),1),J(D(v(j),{class:"is-icon-close",onClick:de(E=>o(y.path),["stop"]),icon:"Close"},null,8,["onClick"]),[[ae,y.path!=h.homePath&&p.value.length>1]])],42,ft)]),_:2},1032,["label","name","closable"]))),128))]),_:1},8,["model-value"]),h.more?(g(),B(v(pe),{key:0,class:"tabs-more-button",type:"primary",onMouseenter:b[1]||(b[1]=y=>_(-1))},{default:A(()=>[V("span",null,N(v(w).more),1),D(v(j),{icon:"ArrowDown"})]),_:1})):O("",!0),D(v(bl),{ref_key:"popoverRef",ref:u,"virtual-ref":m.ref,trigger:m.trigger,"virtual-triggering":"","popper-class":"agel-tabs-menu","hide-after":0,"show-after":0,teleported:!1,offset:m.offset},{default:A(()=>[c.value?(g(),F("div",{key:0,class:"agel-tabs-menu-box",onClick:b[2]||(b[2]=y=>k())},[h.reload?(g(),F("div",{key:0,onClick:$},[D(v(j),{icon:"Refresh"}),V("span",null,N(v(w).reload),1)])):O("",!0),h.fixed&&c.value.path!==h.homePath?(g(),F("div",{key:1,onClick:n},[c.value.fixed?(g(),B(v(j),{key:0,icon:"StarFilled",color:"#f7ba2a"})):(g(),B(v(j),{key:1,icon:"Star"})),V("span",null,N(c.value.fixed?v(w).fixedCancel:v(w).fixed),1)])):O("",!0),R(h.$slots,"menu",{item:c.value}),J(V("div",{onClick:M},[D(v(j),{icon:"Close"}),V("span",null,N(v(w).close),1)],512),[[ae,m.trigger=="contextmenu"||!h.homePath]]),J(V("div",{onClick:r},[D(v(j),{icon:"Close"}),V("span",null,N(v(w).closeAll),1)],512),[[ae,h.homePath&&m.trigger=="click"]])])):O("",!0)]),_:3},8,["virtual-ref","trigger","offset"])],34))}});let Ne=z(0),De=z();const ve=Vl(()=>{Ne.value=window.innerWidth,De.value=window.innerHeight},500),vt=["onMouseenter"],ht=["onClick"],yt={class:"agel-context-menu-item_title"},bt={key:1,class:"agel-context-menu-item_remark"},wt=q({name:"AgelContextMenu",__name:"AgelContextMenu",props:{modelValue:{type:Boolean},x:{},y:{},menus:{default:()=>[]},transition:{default:"el-zoom-in-top"}},emits:["update:modelValue","select"],setup(i,{emit:t}){var _,h,b;const e=i,l=t,s=z(),u=z(-1),m=((b=(h=(_=Ml())==null?void 0:_.parent)==null?void 0:h.type)==null?void 0:b.name)!=="BaseTransition",a=ye({width:0,height:0,paddingTop:0,load:!1,timer:0}),p=ye([]),c=S(()=>({x:e.x,y:e.y})),w=S(()=>{if(!m){const E=Ne.value-a.width,P=De.value-a.height,f={position:"absolute"};return e.x<=E&&e.y<=P?G(I({},f),{left:"100%",top:0-a.paddingTop+"px"}):e.x<=E&&e.y>P?G(I({},f),{left:"100%",bottom:0-a.paddingTop+"px"}):e.x>E&&e.y<=P?G(I({},f),{right:"0px",top:"100%"}):e.x>E&&e.y>P?G(I({},f),{right:"0px",bottom:"100%"}):{}}const y=window.innerWidth-a.width,x=window.innerHeight-a.height;return{position:"fixed",top:Math.min(e.y,x)+"px",left:Math.min(e.x,y)+"px"}}),o=S(()=>n(e.menus)),M=S(()=>e.menus.some(y=>y.icon!=null));function r(y=[]){return n(y).length>0}function n(y=[]){return y.filter(x=>x.hidden!==!0)}function C(){l("update:modelValue",!1)}function $(y,x){r(y.children)?x&&x.stopPropagation():l("select",y)}function d(){if(!s.value)return;const y=s.value.cloneNode(!0);y.style.cssText="position: absolute; visibility: hidden; display: block;",document.body.appendChild(y),a.width=y.offsetWidth,a.height=y.offsetHeight,a.paddingTop=parseFloat(getComputedStyle(y).paddingTop),document.body.removeChild(y)}function k(){if(!s.value)return;const y=s.value.children;for(let x=0;x<y.length;x++){const P=y[x].getBoundingClientRect();p[x]=[P.x+P.width,P.y+P.height],a.load=!0}}return Q(()=>[e.menus],()=>{le(()=>d())},{immediate:!0}),Q(()=>[c.value,e.modelValue],()=>{e.modelValue&&(clearTimeout(a.timer),a.load=!1,a.timer=setTimeout(k,310))}),ce(()=>{m&&(ve(),document.addEventListener("click",C),window.addEventListener("resize",ve))}),_e(()=>{m&&(document.removeEventListener("click",C),window.removeEventListener("resize",ve))}),(y,x)=>{const E=se("AgelIcon"),P=se("AgelContextMenu",!0);return o.value.length>0?(g(),B(Al,{key:0,to:"body",disabled:!m},[D(Sl,{name:y.transition},{default:A(()=>[J(V("div",{ref_key:"menuRef",ref:s,class:"agel-context-menu",style:Pl(w.value),onMouseleave:x[0]||(x[0]=f=>u.value=-1),onContextmenu:x[1]||(x[1]=de(()=>{},["prevent"]))},[(g(!0),F(H,null,X(o.value,(f,T)=>(g(),F("div",{key:T,class:ee(["agel-context-menu-item",f.className,{__divided:f.divided,__disabled:f.disabled,__hasIcon:M.value,__hasChildren:r(f.children)}]),onMouseenter:W=>u.value=T},[V("div",{class:"agel-menu-item_content",onClick:W=>$(f,W)},[f.icon?(g(),B(E,{key:0,icon:f.icon,class:"agel-context-menu-item_icon"},null,8,["icon"])):O("",!0),V("span",yt,N(f.title),1),f.remark?(g(),F("span",bt,N(f.remark),1)):O("",!0),r(f.children)?(g(),B(E,{key:2,icon:"ArrowRight",class:"agel-context-menu_arrow"})):O("",!0)],8,ht),r(f.children)?(g(),B(P,{key:0,"model-value":u.value===T&&a.load,menus:f.children,transition:y.transition,x:p[T]?p[T][0]:0,y:p[T]?p[T][1]:0,onSelect:$},null,8,["model-value","menus","transition","x","y"])):O("",!0)],42,vt))),128))],36),[[ae,y.modelValue]])]),_:1},8,["name"])],8,["disabled"])):O("",!0)}}}),Ct={class:"agel-count-to"},_t=q({name:"AgelCountTo",__name:"AgelCountTo",props:{from:{default:0},to:{default:0},duration:{default:2500},precision:{default:0},prefix:{default:""},suffix:{default:""},autoplay:{type:Boolean,default:!0},showSeparator:{type:Boolean,default:!0}},setup(i,{expose:t}){const e=i;let l=z(_(e.from)),s=e.from,u=e.duration,m=!1,a=0,p=0,c=0,w=0,o=0;const M=S(()=>e.from>e.to);function r(){s=e.from,p=0,u=e.duration,m=!1,cancelAnimationFrame(o),o=requestAnimationFrame(k)}function n(){cancelAnimationFrame(o)}function C(){m?($(),m=!1):(cancelAnimationFrame(o),m=!0)}function $(){p=0,u=w,s=a,cancelAnimationFrame(o),o=requestAnimationFrame(k)}function d(){p=0,l.value=_(e.from),cancelAnimationFrame(o)}function k(b){p===0&&(p=b),c=b;const y=c-p;w=u-y,M.value?(a=s-h(y,0,s-e.to,u),a=a<e.to?e.to:a):(a=h(y,s,e.to-s,u),a=a>e.to?e.to:a),l.value=_(a),y<u&&(o=requestAnimationFrame(k))}function _(b){let y=b.toFixed(e.precision);y+="";const x=y.split("."),E=".";let P=x[0];const f=x.length>1?E+x[1]:"",T=/(\d+)(\d{3})/;if(e.showSeparator)for(;T.test(P);)P=P.replace(T,"$1,$2");return e.prefix+P+f+e.suffix}function h(b,y,x,E){return x*(-Math.pow(2,-10*b/E)+1)*1024/1023+y}return ce(()=>{e.autoplay&&r()}),_e(()=>{cancelAnimationFrame(o)}),Q(()=>e.from,()=>{e.autoplay&&r()}),Q(()=>e.to,()=>{e.autoplay&&r()}),t({start:r,pause:n,resume:$,pauseResume:C,reset:d}),(b,y)=>(g(),F("span",Ct,N(v(l)),1))}}),kt=["title"],At=q({name:"AgelEllipsis",__name:"AgelEllipsis",props:{lineClamp:{default:1},wordClamp:{default:0},titleTip:{type:Boolean},effect:{},placement:{},enterable:{type:Boolean},offset:{},popperClass:{},showArrow:{type:Boolean},showAfter:{default:750},hideAfter:{}},setup(i){const t=i,e=Ce(),l=z(!1),s=z(null),u=z(""),m=S(()=>t.wordClamp>0?"word":"line"),a=S(()=>{let n="";return m.value=="line"&&t.lineClamp>1&&(n="__line-clamp"),m.value=="word"&&t.wordClamp>1&&(n="__word-clamp"),["agel-ellipsis",n]}),p=S(()=>[t.popperClass||"","agel-ellipsis-popper"]),c=S(()=>m.value=="line"&&t.lineClamp>1?{"-webkit-line-clamp":t.lineClamp}:""),w=S(()=>t.titleTip&&l.value?u.value:""),o=S(()=>t.titleTip||l.value==!1),M=()=>{if(!e.default)return null;const n=e.default(),C=r(n);return m.value=="word"&&C&&typeof C.children=="string"&&(u.value=C.children,C.children.length>t.wordClamp?(C.children=C.children.substring(0,t.wordClamp)+"...",l.value=!0):l.value=!1),le(()=>{var $;m.value=="line"&&s.value&&(t.lineClamp>1?l.value=s.value.scrollHeight>s.value.clientHeight:t.lineClamp===1&&(l.value=s.value.scrollWidth>s.value.clientWidth),u.value=(($=s.value)==null?void 0:$.textContent)||"")}),n};function r(n){let C=n[0];return Array.isArray(C.children)?r(C.children):C}return(n,C)=>(g(),B(v(Cl),{disabled:o.value,placement:n.placement,content:u.value,enterable:n.enterable,offset:n.offset,"popper-class":p.value,"show-after":n.showAfter,"hide-after":n.hideAfter,"show-arrow":n.showArrow,"append-to":"body"},{default:A(()=>[V("div",K({ref_key:"wrapper",ref:s,class:a.value,style:c.value},n.$attrs,{title:w.value}),[D(M)],16,kt)]),_:1},8,["disabled","placement","content","enterable","offset","popper-class","show-after","hide-after","show-arrow"]))}}),Tt={install:function(i){const t=[oe,Tl,Il,zl,Nl,Dl,Ol,Kl,Hl,jl,st,dt,ct,gt,j,wt,_t,At];i.use(_l),t.forEach(e=>i.component(e.name,e))}};export{Tt as E};
